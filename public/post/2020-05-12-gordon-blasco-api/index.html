<!DOCTYPE html><html lang="en-us" >

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Source Themes Academic 4.8.0">

  

  
  
  
  
  
    
    
    
  
  

  <meta name="author" content="Join us!">

  
  
  
    
  
  <meta name="description" content="A demo on how to access and tidy IUCN redlist data using the API.">

  
  <link rel="alternate" hreflang="en-us" href="/post/2020-05-12-gordon-blasco-api/">

  


  
  
  
  <meta name="theme-color" content="#2962ff">
  

  
  

  
  
  
  
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css" integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0-1/css/all.min.css" integrity="sha256-4w9DunooKSr3MFXHXWyFER38WmPdm361bQS/2KUWZbU=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">

    
    
    
      
    
    
      
      
        
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/github.min.css" crossorigin="anonymous" title="hl-light">
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/dracula.min.css" crossorigin="anonymous" title="hl-dark" disabled>
        
      
    

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.5.1/leaflet.css" integrity="sha256-SHMGCYmST46SoyGgo4YR/9AlK1vf3ff84Aq9yK4hdqM=" crossorigin="anonymous">
    

    

    
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.1.2/lazysizes.min.js" integrity="sha256-Md1qLToewPeKjfAHU1zyPwOutccPAm5tahnaw7Osw0A=" crossorigin="anonymous" async></script>
      
    
      

      
      

      
    
      

      
      

      
    
      

      
      
        
      

      
    
      

      
      

      
    

  

  
  
  
    
      
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:400,700%7CRoboto:400,400italic,700%7CRoboto+Mono&display=swap">
    
  

  
  
  
  
  <link rel="stylesheet" href="/css/academic.css">

  




  


  
  

  

  <link rel="manifest" href="/index.webmanifest">
  <link rel="icon" type="image/png" href="/images/icon_hu0b7a4cb9992c9ac0e91bd28ffd38dd00_9727_32x32_fill_lanczos_center_2.png">
  <link rel="apple-touch-icon" type="image/png" href="/images/icon_hu0b7a4cb9992c9ac0e91bd28ffd38dd00_9727_192x192_fill_lanczos_center_2.png">

  <link rel="canonical" href="/post/2020-05-12-gordon-blasco-api/">

  
  
  
  
  
  
  
    
  
  
  <meta property="twitter:card" content="summary_large_image">
  
  <meta property="og:site_name" content="UCSB TidyTuesday">
  <meta property="og:url" content="/post/2020-05-12-gordon-blasco-api/">
  <meta property="og:title" content="Accessing IUCN redlist data via API by Gordon Blasco (NCEAS) | UCSB TidyTuesday">
  <meta property="og:description" content="A demo on how to access and tidy IUCN redlist data using the API."><meta property="og:image" content="/post/2020-05-12-gordon-blasco-api/featured_redlist.png">
  <meta property="twitter:image" content="/post/2020-05-12-gordon-blasco-api/featured_redlist.png"><meta property="og:locale" content="en-us">
  
    
      <meta property="article:published_time" content="2020-05-12T00:00:00&#43;00:00">
    
    <meta property="article:modified_time" content="2020-05-12T00:00:00&#43;00:00">
  

  


    






  




<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "/post/2020-05-12-gordon-blasco-api/"
  },
  "headline": "Accessing IUCN redlist data via API by Gordon Blasco (NCEAS)",
  
  "image": [
    "/post/2020-05-12-gordon-blasco-api/featured_redlist.png"
  ],
  
  "datePublished": "2020-05-12T00:00:00Z",
  "dateModified": "2020-05-12T00:00:00Z",
  
  "author": {
    "@type": "Person",
    "name": "Join us!"
  },
  
  "publisher": {
    "@type": "Organization",
    "name": "UCSB TidyTuesday",
    "logo": {
      "@type": "ImageObject",
      "url": "/images/icon_hu0b7a4cb9992c9ac0e91bd28ffd38dd00_9727_192x192_fill_lanczos_center_2.png"
    }
  },
  "description": "A demo on how to access and tidy IUCN redlist data using the API."
}
</script>

  

  


  


  





  <title>Accessing IUCN redlist data via API by Gordon Blasco (NCEAS) | UCSB TidyTuesday</title>

</head>
<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" >

  <aside class="search-results" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" spellcheck="false" type="search">
        
      </div>

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>


  









<nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id="navbar-main">
  <div class="container">

    
    <div class="d-none d-lg-inline-flex">
      <a class="navbar-brand" href="/">UCSB TidyTuesday</a>
    </div>
    

    
    <button type="button" class="navbar-toggler" data-toggle="collapse"
            data-target="#navbar-content" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
    <span><i class="fas fa-bars"></i></span>
    </button>
    

    
    <div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none">
      <a class="navbar-brand" href="/">UCSB TidyTuesday</a>
    </div>
    

    
    
    <div class="navbar-collapse main-menu-item collapse justify-content-start" id="navbar-content">

      
      <ul class="navbar-nav d-md-inline-flex">
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#about"><span>About</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#posts"><span>Posts</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#people"><span>Mascots</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#contact"><span>Contact</span></a>
        </li>

        
        

      

        
      </ul>
    </div>

    <ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2">
      
      <li class="nav-item">
        <a class="nav-link js-search" href="#" aria-label="Search"><i class="fas fa-search" aria-hidden="true"></i></a>
      </li>
      

      
      <li class="nav-item dropdown theme-dropdown">
        <a href="#" class="nav-link js-theme-selector" data-toggle="dropdown" aria-haspopup="true">
          <i class="fas fa-palette" aria-hidden="true"></i>
        </a>
        <div class="dropdown-menu">
          <a href="#" class="dropdown-item js-set-theme-light">
            <span>Light</span>
          </a>
          <a href="#" class="dropdown-item js-set-theme-dark">
            <span>Dark</span>
          </a>
          <a href="#" class="dropdown-item js-set-theme-auto">
            <span>Automatic</span>
          </a>
        </div>
      </li>
      

      

    </ul>

  </div>
</nav>


  <article class="article">

  




















  
  
    
  


<div class="article-container pt-3">
  <h1>Accessing IUCN redlist data via API by Gordon Blasco (NCEAS)</h1>

  

  


<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    May 12, 2020
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    4 min read
  </span>
  

  
  
  

  
  

</div>

  














</div>


<div class="article-header article-container featured-image-wrapper mt-4 mb-4" style="max-width: 720px; max-height: 670px;">
  <div style="position: relative">
    <img src="/post/2020-05-12-gordon-blasco-api/featured_redlist_hudd98d94e24ea5c03ca07e9d399368b08_68676_720x0_resize_lanczos_2.png" alt="" class="featured-image">
    
  </div>
</div>



  <div class="article-container">

    <div class="article-style">
      


<div id="about-gordon" class="section level3">
<h3>About Gordon</h3>
<p>Gordon Blasco is a data analyst at the National Center for Ecological Analysis and Synthesis and a total R enthusiast. He works on trends in food systems and the mapping of human impacts on the marine environment.</p>
<hr />
</div>
<div id="iucn-redlist-api-demo" class="section level3">
<h3>IUCN Redlist API demo</h3>
<p>In this session, I show how to use the IUCN’s redlists API to get the current conservation status for a number of species, using some help from the purrr package to keep it tidy.</p>
<p><strong>Set-up to follow along:</strong></p>
<p>To follow along, you’ll need to install the <code>rredlist</code> package in R: <code>install.packages("rredlist")</code></p>
<p>You’ll also need this test API key:
“9bb4facb6d23f48efbf424bb05c0c1ef1cf6f468393bc745d42179ac4aca5fee”</p>
<p>Packages required: <code>rredlist</code> and <code>tidyverse</code></p>
<pre class="r"><code>suppressMessages(library(rredlist))
suppressMessages(library(tidyverse))</code></pre>
</div>
<div id="safety-first" class="section level3">
<h3>Safety first!</h3>
<p>API keys are sensitive and should not be saved in your R scripts if you are going to push them to github. Treat them like a password. To keep them safe, save them to your computer as “environmental variables” that can only be seen from your device. This is easy to do in R using the base r <code>Sys.setenv()</code> and <code>Sys.getenv()</code> functions.</p>
<p>You can use <code>Sys.setenv()</code> to save a string as an environmental variable, meaning it will not be populated into your R environment, instead it will live in the environment of your computer’s hard drive. Once you set the system variable be sure to delete the line where you set the variable. You now can use the <code>Sys.getenv()</code> function to call that environmental variable. That variable will exist in your computer until you delete it using <code>Sys.unsetenv()</code>.</p>
<pre class="r"><code># set your api key as an environmental variable so you do not upload
Sys.setenv(IUCN_KEY = &quot;9bb4facb6d23f48efbf424bb05c0c1ef1cf6f468393bc745d42179ac4aca5fee&quot;)

# now call the variable that you set
Sys.getenv(&quot;IUCN_KEY&quot;)</code></pre>
<pre><code>## [1] &quot;9bb4facb6d23f48efbf424bb05c0c1ef1cf6f468393bc745d42179ac4aca5fee&quot;</code></pre>
<pre class="r"><code># if this returns the token key then you can delete the Sys.setenv line. This does not need to be in your code anymore,

# and you can save that as a R variable 
apikey &lt;- Sys.getenv(&quot;IUCN_KEY&quot;)</code></pre>
<p>Now that we have a way to access the api and keep our precious api key is safe, lets look at what the api returns for the species Gorilla gorilla. To ping the API we will use the <code>rredlist::rl_search</code> to get the information for a given species.</p>
<pre class="r"><code>test &lt;- rl_search(&quot;Gorilla gorilla&quot;, key = apikey)

test</code></pre>
<pre><code>## $name
## [1] &quot;Gorilla gorilla&quot;
## 
## $result
##   taxonid scientific_name  kingdom   phylum    class    order    family   genus
## 1    9404 Gorilla gorilla ANIMALIA CHORDATA MAMMALIA PRIMATES HOMINIDAE Gorilla
##   main_common_name      authority published_year assessment_date category
## 1  Western Gorilla (Savage, 1847)           2018      2016-04-01       CR
##   criteria population_trend marine_system freshwater_system terrestrial_system
## 1   A4bcde       Decreasing         FALSE             FALSE               TRUE
##                                      assessor                          reviewer
## 1 Maisels, F., Bergl, R.A. &amp; Williamson, E.A. Mittermeier, R.A. &amp; Rylands, A.B.
##   aoo_km2 eoo_km2 elevation_upper elevation_lower depth_upper depth_lower
## 1      NA      NA            1900               0          NA          NA
##   errata_flag errata_reason amended_flag
## 1          NA            NA         TRUE
##                                                                                                                                     amended_reason
## 1 This amended version of the 2016 assessment was created to update population and reduction estimates based on Strindberg &lt;em&gt;et al&lt;/em&gt;. (2018).</code></pre>
<p>So… this is a bit of a mess, but you can see the category column returning a “CR” for critically endangered (total bummer). Awful reminder of the biodiversity crisis aside, our code is working and we are able to pull the information we want from the IUCN. However, we can clean this workflow up a bit using the <code>purrr</code> package. Let’s use <code>purrr::map()</code> to iterate over a list of species, and <code>purrr::pluck()</code> to extract just the category and return it as a column.</p>
<pre class="r"><code># make a data frame of the species you want to iterate over
df &lt;- tribble(
  ~species_names, 
  &quot;Pan paniscus&quot;,
  &quot;Gorilla gorilla&quot;,
  &quot;Chiroxiphia linearis&quot;,
  &quot;Lemur catta&quot;
) %&gt;% # now apply the rl_search function to each species using purrr::map()
  mutate(iucn_pull = map(species_names, rl_search, key = apikey)) 

# if you look at the df object the iucn_pull column is a list with a lot of information that we are not interested in. So we can use purr::pluck to get the elements we want!

# we will need to look at the list format to see what elements of the api we are interested in are named. In this case we want to go into the &quot;result&quot; list and pull out the value from &quot;category.&quot; 

api_clean &lt;- df %&gt;% 
  mutate(category = map_chr(iucn_pull, pluck, &quot;result&quot;, &quot;category&quot;)) %&gt;% 
  select(species_names, category)

api_clean</code></pre>
<pre><code>## # A tibble: 4 x 2
##   species_names        category
##   &lt;chr&gt;                &lt;chr&gt;   
## 1 Pan paniscus         EN      
## 2 Gorilla gorilla      CR      
## 3 Chiroxiphia linearis LC      
## 4 Lemur catta          EN</code></pre>
<p>There we go much cleaner. Thanks TidyTuesday crew!</p>
</div>

    </div>

    






<div class="article-tags">
  
  <a class="badge badge-light" href="/tag/how-to/">how-to</a>
  
  <a class="badge badge-light" href="/tag/study-group/">study-group</a>
  
  <a class="badge badge-light" href="/tag/impact/">impact</a>
  
</div>



<div class="share-box" aria-hidden="true">
  <ul class="share">
    
      
      
      
        
      
      
      
      <li>
        <a href="https://twitter.com/intent/tweet?url=/post/2020-05-12-gordon-blasco-api/&amp;text=Accessing%20IUCN%20redlist%20data%20via%20API%20by%20Gordon%20Blasco%20%28NCEAS%29" target="_blank" rel="noopener" class="share-btn-twitter">
          <i class="fab fa-twitter"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.facebook.com/sharer.php?u=/post/2020-05-12-gordon-blasco-api/&amp;t=Accessing%20IUCN%20redlist%20data%20via%20API%20by%20Gordon%20Blasco%20%28NCEAS%29" target="_blank" rel="noopener" class="share-btn-facebook">
          <i class="fab fa-facebook"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="mailto:?subject=Accessing%20IUCN%20redlist%20data%20via%20API%20by%20Gordon%20Blasco%20%28NCEAS%29&amp;body=/post/2020-05-12-gordon-blasco-api/" target="_blank" rel="noopener" class="share-btn-email">
          <i class="fas fa-envelope"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.linkedin.com/shareArticle?url=/post/2020-05-12-gordon-blasco-api/&amp;title=Accessing%20IUCN%20redlist%20data%20via%20API%20by%20Gordon%20Blasco%20%28NCEAS%29" target="_blank" rel="noopener" class="share-btn-linkedin">
          <i class="fab fa-linkedin-in"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="whatsapp://send?text=Accessing%20IUCN%20redlist%20data%20via%20API%20by%20Gordon%20Blasco%20%28NCEAS%29%20/post/2020-05-12-gordon-blasco-api/" target="_blank" rel="noopener" class="share-btn-whatsapp">
          <i class="fab fa-whatsapp"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://service.weibo.com/share/share.php?url=/post/2020-05-12-gordon-blasco-api/&amp;title=Accessing%20IUCN%20redlist%20data%20via%20API%20by%20Gordon%20Blasco%20%28NCEAS%29" target="_blank" rel="noopener" class="share-btn-weibo">
          <i class="fab fa-weibo"></i>
        </a>
      </li>
    
  </ul>
</div>












  
  





  
    
    
    
      
    
    
    
    <div class="media author-card content-widget-hr">
      
        
        <img class="avatar mr-3 avatar-square" src="/author/join-us/avatar_hu49bc4f58a7aaa568f709cff1883c01ca_2637115_270x270_fill_q90_lanczos_center.jpg" alt="Join us!">
      

      <div class="media-body">
        <h5 class="card-title"><a href="/">Join us!</a></h5>
        
        
        <ul class="network-icon" aria-hidden="true">
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="/#contact" >
        <i class="fas fa-envelope"></i>
      </a>
    </li>
  
</ul>

      </div>
    </div>
  














  
  
  <div class="article-widget content-widget-hr">
    <h3>Related</h3>
    <ul>
      
      <li><a href="/post/2019-05-02-tidy-tuesday-coding-club/">Starting our UCSB #tidytuesday coding club</a></li>
      
      <li><a href="/post/2020-07-25-gracie-white-founding-tidytuesday/">Special guest post: UCSB TidyTuesday co-founder Gracie White (MESM 2020)</a></li>
      
      <li><a href="/post/2020-07-21-forcats-demo/">{forcats} demo by Allison Horst (Bren)</a></li>
      
      <li><a href="/post/2020-07-07-ggally-demo/">{GGally} demo by Allison Horst (Bren)</a></li>
      
    </ul>
  </div>
  





  </div>
</article>

      

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>

      

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js" integrity="sha256-eOgo0OtLL4cdq7RdwRUiGKLX9XsIJ7nGhWEKbohmVAQ=" crossorigin="anonymous"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/languages/r.min.js"></script>
        
      

    

    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.5.1/leaflet.js" integrity="sha256-EErZamuLefUnbMBQbsEqu1USa+btR2oIlCpBJbyD4/g=" crossorigin="anonymous"></script>
    

    
    
    <script>const code_highlighting = true;</script>
    

    
    
    <script>const isSiteThemeDark = false;</script>
    

    
    
    
    
    
    
    <script>
      const search_config = {"indexURI":"/index.json","minLength":1,"threshold":0.3};
      const i18n = {"no_results":"No results found","placeholder":"Search...","results":"results found"};
      const content_type = {
        'post': "Posts",
        'project': "Projects",
        'publication' : "Publications",
        'talk' : "Talks",
        'slides' : "Slides"
        };
    </script>
    

    
    

    
    
    <script id="search-hit-fuse-template" type="text/x-template">
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
    

    
    

    
    

    
    

    
    
    
    
    
    
    
    
    
      
    
    
    
    
    <script src="/js/academic.min.66c553246b0f279a03be6e5597f72b52.js"></script>

    






  
  
  <div class="container">
    <footer class="site-footer">
  
  <p class="powered-by">
    
      <a href="/privacy/">Privacy Policy</a>
    
    
       &middot; 
      <a href="/terms/">Terms</a>
    
  </p>
  

  <p class="powered-by">
    
  </p>

  
  






  <p class="powered-by">
    Powered by the
    <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> for
    <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.

    
    <span class="float-right" aria-hidden="true">
      <a href="#" class="back-to-top">
        <span class="button_icon">
          <i class="fas fa-chevron-up fa-2x"></i>
        </span>
      </a>
    </span>
    
  </p>
</footer>

  </div>
  

  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

</body>
</html>
